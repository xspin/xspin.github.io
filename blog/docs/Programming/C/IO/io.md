# IO

select、poll和epoll是在操作系统中用于实现 I/O 多路复用的机制，它们用于同时监视多个文件描述符的状态，以确定哪些文件描述符可以进行读、写或异常操作。

**select** ：
select 函数会阻塞等待，直到监视的文件描述符中有至少一个处于就绪状态（即可读、可写或有异常）。
- 优点：相对简单，在多种操作系统上都有实现。
- 缺点：可监视的文件描述符数量有限，通常有一个默认的最大值。
每次调用 select 时，都需要重新设置要监视的文件描述符集合，因为内核不会记住。
当监视的文件描述符数量较多时，效率较低，因为每次都要遍历整个集合来判断哪些就绪。

**poll** ：
poll 与 select 类似，但解决了 select 可监视文件描述符数量有限的问题。
- 优点：可以监视的文件描述符数量没有明确的上限，仅受限于系统内存。
- 缺点：与 select 一样，每次调用都需要重新设置监视集合。
大量文件描述符时效率仍然不高。

**epoll** ：
epoll 是一种高效的 I/O 多路复用机制。
- 优点：没有最大文件描述符数量的限制。不需要每次调用时重新设置监视集合，内核会记住。只返回就绪的文件描述符，避免了像 select 和 poll 那样的大量遍历操作，效率很高。
- 缺点：实现相对复杂。


除了 select、poll 和 epoll 之外，还有以下一些常见的 I/O 机制：
- kqueue：主要用于 FreeBSD 等类 Unix 操作系统。它类似于 epoll，具有高效的事件通知机制。
- /dev/poll：Solaris 操作系统中的一种高效 I/O 多路复用机制。
- IOCP (Input/Output Completion Port，输入输出完成端口)：这是 Windows 操作系统提供的一种异步 I/O 机制，适用于高并发的服务器应用程序。

这些机制在不同的操作系统中提供了不同的方式来处理多个文件描述符或 I/O 操作的并发处理。